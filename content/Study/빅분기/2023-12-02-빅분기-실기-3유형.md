---
layout: post
title: ë¹…ë¶„ê¸°-ì‹¤ê¸°-3ìœ í˜•
date: 2023-12-02 04:32 +0900
categories:
  - ìê²©ì¦
  - ë¹…ë¶„ê¸°
tags: 
math: true
---
### 3 ìœ í˜• ë‚´ìš©

#### 1. ê°€ì„¤ê²€ì •

ëª¨í‰ê·  ê²€ì •
- ëª¨ì§‘ë‹¨ 1ê°œ
- ëª¨ì§‘ë‹¨ 2ê°œ
- ëª¨ì§‘ë‹¨ 3ê°œ ì´ìƒ
- + ì •ê·œì„±/ë“±ë¶„ì‚°ì„± ê²€ì •

ì¹´ì´ì œê³± ê²€ì •
- ì í•©ì„± ê²€ì •
- ë…ë¦½ì„± ê²€ì •
#### 2. ìƒê´€ë¶„ì„
- í”¼ì–´ìŠ¨ ìƒê´€ê³„ìˆ˜
#### 3. íšŒê·€ë¶„ì„
- ë‹¤ì¤‘ ì„ í˜• íšŒê·€
- ë¡œì§€ìŠ¤í‹± íšŒê·€



### 1. ê°€ì„¤ê²€ì •
"~í•  ê²ƒì´ë‹¤" ë¼ëŠ” ì ì •ì ì¸ ì£¼ì¥(ê°€ì„¤)ì— ëŒ€í•´ í†µê¼ì ì¸ ë°©ì‹ìœ¼ë¡œ ê²€ì •í•˜ëŠ” ê²ƒìœ¼ë¡œ í†µê³„ì  ê°€ì„¤ê²€ì •


#### 1. ê·€ë¬´ê°€ì„¤ê³¼ ëŒ€ë¦½ê°€ì„¤
1. ê·€ë¬´ê°€ì„¤(H0, Null hypothesis): ì˜ê°€ì„¤(ê¸°ì¡´ì— ì•Œë ¤ì§„ ì‚¬ì‹¤)
	- ì°¨ì´ê°€ ì—†ë‹¤, ì„œë¡œ ê°™ë‹¤, ì˜í–¥ì„ ì£¼ì§€ ì•ŠëŠ”ë‹¤ ë“±ìœ¼ë¡œ ì„¤ì •
2. ëŒ€ë¦½ê°€ì„¤(H1, Alternative hypothesis): ì—°êµ¬ê°€ì„¤, ëŒ€ì•ˆê°€ì„¤
	- ì°¨ì´ê°€ ìˆë‹¤, ê°™ì§€ ì•Šë‹¤, ì˜í–¥ì„ ì¤€ë‹¤ ë“±ìœ¼ë¡œ ì„¤ì •

> ê°€ì„¤ê²€ì •ì€ ê²€ì •í†µê³„ëŸ‰ì„ êµ¬í•´ì„œ ê·€ë¬´ê°€ì„¤(H0)ì„ ì±„íƒí•  ê±´ì§€ ê¸°ê°í•  ê±´ì§€ íŒë‹¨í•˜ëŠ” ê³¼ì •



#### 2. ê°€ì„¤ ê²€ì •ì˜ ì˜¤ë¥˜(1ì¢… ì˜¤ë¥˜, 2ì¢… ì˜¤ë¥˜)

##### 1ì¢… ì˜¤ë¥˜
- ê·€ë¬´ê°€ì„¤ì´ ì°¸ì¼ ë•Œ ì´ë¥¼ ê¸°ê°í•˜ëŠ” ì˜¤ë¥˜ë¥¼ ë²”í•  í™•ë¥ 
- ê·€ë¬´ê°€ì„¤ì´ ì°¸ì¼ ëŒ€ ê·€ë¬´ê°€ì„¤ì„ ê¸°ê°€í•  ìµœëŒ€ í—ˆìš© í•œê³„
- ë³´í†µ ğ›¼(ì•ŒíŒŒ)ë¡œ í‘œê¸°í•˜ê³  ìœ ì˜ìˆ˜ì¤€ì´ë¼ ë¶€ë¥¸ë‹¤)
	- ìœ ì˜ìˆ˜ì¤€ì„ ë³´í†µ 5%ë¡œ ì„¤ì •í•¨
##### 2ì¢… ì˜¤ë¥˜
- ê·€ë¬´ê°€ì„¤ì´ ê±°ì§“ì¼ ë•Œ ì´ë¥¼ ì±„íƒí•˜ëŠ” ì˜¤ë¥˜ë¥¼ ë²”í•  í™•ë¥ 
#### 3. ê°€ì„¤ ê²€ì • ìˆœì„œ
1. ê°€ì„¤ ì„¤ì •(ê·€ë¬´/ëŒ€ë¦½ê°€ì„¤)
2. ìœ ì˜ìˆ˜ì¤€(ğ›¼) ì„¤ì •(ì¼ë°˜ì ìœ¼ë¡œ 5%)
3. ê·€ë¬´ê°€ì„¤í•˜ì— ê²€ì •í†µê³„ëŸ‰ ê³„ì‚°
4. ê²€ì •í†µê³„ëŸ‰ìœ¼ë¡œ P-value ê³„ì‚°
5. ê·€ë¬´ê°€ì„¤(H0) ê¸°ê°ì—¬ë¶€ ê²°ì •(ì±„íƒ/ê¸°ê°)
	- P-value(ìœ ì˜í™•ë¥ ) > 0.05(ìœ ì˜ìˆ˜ì¤€): H0(ê·€ë¬´ê°€ì„¤) ì±„íƒ
	- P-value(ìœ ì˜í™•ë¥ ) â‰¤ 0.05(ìœ ì˜ìˆ˜ì¤€): H0(ê·€ë¬´ê°€ì„¤) ê¸°ê°



### 3. íšŒê·€ë¶„ì„
#### 2. ë¡œì§€ìŠ¤í‹± íšŒê·€ë¶„ì„

##### Odds(ìŠ¹ì‚°)

$$odds = \frac{P}{1-P}=\frac{ì„±ê³µí•  í™•ë¥ (Y=1)}{ì‹¤íŒ¨í•  í™•ë¥ (Y=0)}$$




## ì‹¤ìŠµ

### ë¼ì´ë¸ŒëŸ¬ë¦¬


- `import scipy.stats as stats`
- `from scipy.stats import shapiro`: ì •ê·œì„± ê²€ì • í…ŒìŠ¤íŠ¸

#### ì •ê·œì„± ê²€ì •
`statistic, pvalue = stats.shapiro(df['mpg'])

### ëª¨ì§‘ë‹¨ 1ê°œ

1. ê°€ì„¤ì„¤ì •  
2. ìœ ì˜ìˆ˜ì¤€ í™•ì¸  
3. ì •ê·œì„± ê²€ì •  
4. ê²€ì •ì‹¤ì‹œ(í†µê³„ëŸ‰, p-value í™•ì¸)  
5. ê·€ë¬´ê°€ì„¤ ê¸°ê°ì—¬ë¶€ ê²°ì •(ì±„íƒ/ê¸°ê°)
#### t-test ê²€ì •(ì •ê·œì„±): ttest_1samp
`statistic, pvalue = stats.ttest_1samp(df['mpg'], popmean=20)`

`statistic, pvalue = stats.ttest_1samp(df['mpg'], popmean=17, alternative='greater')`

`statistic, pvalue = stats.ttest_1samp(df['mpg'], popmean=17, alternative='less')`

#### ìœŒì½”ìŠ¨ ë¶€í˜¸ìˆœìœ„ ê²€ì •(ë¹„ì •ê·œì„±): wilcoxon
`statistic, pvalue = stats.wilcoxon(df['mpg']-20)`

`statistic, pvalue = stats.wilcoxon(df['mpg']-17, alternative='greater')`

`statistic, pvalue = stats.wilcoxon(df['mpg']-17, alternative='less')`



### ëª¨ì§‘ë‹¨ 2ê°œ

#### ëŒ€ì‘í‘œë³¸(ìŒì²´): ë™ì¼í•œ ê°ì²´ì˜ ì „ vs í›„ í‰ê·  ë¹„êµ

1. ê°€ì„¤ì„¤ì •  
2. ìœ ì˜ìˆ˜ì¤€ í™•ì¸  
3. ì •ê·œì„± ê²€ì • (ì£¼ì˜) ì°¨ì´ê°’ì— ëŒ€í•œ ì •ê·œì„± 4. ê²€ì •ì‹¤ì‹œ(í†µê³„ëŸ‰, p-value í™•ì¸)  
5. ê·€ë¬´ê°€ì„¤ ê¸°ê°ì—¬ë¶€ ê²°ì •(ì±„íƒ/ê¸°ê°)
##### paired t-test(ì •ê·œì„±): ttest_rel

`statistic, pvalue = stats.ttest_rel(df['after'], df['before'])`

##### wilcoxon test(ë¹„ì •ê·œì„±): wilcoxon
`statistic, pvalue = stats.wilcoxon(df['after']-df['before'])`


#### ë…ë¦½í‘œë³¸: Aì§‘ë‹¨ì˜ í‰ê·  vs Bì§‘ë‹¨ì˜ í‰ê· 

1. ê°€ì„¤ì„¤ì •
2. ìœ ì˜ìˆ˜ì¤€ í™•ì¸
3. ì •ê·œì„±ê²€ì •(ì£¼ì˜)ë‘ì§‘ë‹¨ëª¨ë‘ì •ê·œì„±ì„ë”°ë¥¼ê²½ìš°!
4. ë“±ë¶„ì‚° ê²€ì •
5. ê²€ì •ì‹¤ì‹œ(í†µê³„ëŸ‰, p-value í™•ì¸) (ì£¼ì˜) ë“±ë¶„ì‚°ì—¬ë¶€ í™•ì¸  
6. ê·€ë¬´ê°€ì„¤ ê¸°ê°ì—¬ë¶€ ê²°ì •(ì±„íƒ/ê¸°ê°

##### 2sample t-test(ì •ê·œì„±): ttest_ind
`statistic, pavlue = stats.ttest_ind(df['A'], df['B'], equal_var=True, alternative='two-sided')`
##### ranksums(ë¹„ì •ê·œì„±): ranksums
`statistic, pvalue = stats.ranksums(df['A'], df['B'])`


### ëª¨ì§‘ë‹¨ 3ê°œ ì´ìƒ

#### ë¶„ì‚°ë¶„ì„(ANOVA):

1. ê°€ì„¤ì„¤ì •
2. ìœ ì˜ìˆ˜ì¤€ í™•ì¸
3. ì •ê·œì„±ê²€ì •(ì£¼ì˜)ì§‘ë‹¨ëª¨ë‘ì •ê·œì„±ì„ë”°ë¥¼ê²½ìš°!
4. ë“±ë¶„ì‚° ê²€ì •
5. ê²€ì •ì‹¤ì‹œ(í†µê³„ëŸ‰, p-value í™•ì¸) (ì£¼ì˜) ë“±ë¶„ì‚°ì—¬ë¶€ í™•ì¸
6. ê·€ë¬´ê°€ì„¤ ê¸°ê°ì—¬ë¶€ ê²°ì •(ì±„íƒ/ê¸°ê°)
##### ë“±ë¶„ì‚°ì„± ê²€ì • bartlett
`statistic, pvalue = stats.bartlett(df['A'], df['B'], df['C'])`
##### ì •ê·œì„±, ë“±ë¶„ì‚°ì„±: ë¶„ì‚°ë¶„ì„(F_oneway)
`statistic, pvalue = stats.f_oneway(df['A'], df['B'], df['C'])`
##### ë¹„ì •ê·œì„±, ë¹„ë“±ë¶„ì‚°ì„±: í¬ë£¨ìŠ¤ì¹¼-ì™ˆë¦¬ìŠ¤ ê²€ì • (kruskal)
`statistic, pvalue = stats.kruskal(df['A'], df['B'], df['C']`


### ì¹´ì´ì œê³± ê²€ì •

1. ì í•©ë„ ê²€ì • - ê° ë²”ì£¼ì— ì†í•  í™•ë¥ ì´ ê°™ì€ì§€?
2. ë…ë¦½ì„± ê²€ì • - ë‘ ê°œì˜ ë²”ì£¼í˜• ë³€ìˆ˜ê°€ ì„œë¡œ ë…ë¦½ì¸ì§€


#### ê°€ì„¤ê²€ì • ìˆœì„œ
1. ê°€ì„¤ ì„¤ì •
2. ìœ ì˜ìˆ˜ì¤€ í™•ì¸
3. ê²€ì •ì‹¤ì‹œ(í†µê³„ëŸ‰, pvalueí™•ì¸, ê¸°ëŒ€ê°’ í™•ì¸)
4. ê·€ë¬´ê°€ì„¤ ê¸°ê°ì—¬ë¶€ ê²°ì •(ì±„íƒ/ê¸°ê°)

#### ì í•©ë„ ê²°ì •

```python
from scipy.stats import chisquare
f_obs = [30, 20, 15, 35]
f_exp = [25, 25, 25, 25]
statistic, pvalue = chisquare(f_obs=f_obs, f_exp=f_exp
```


#### ë…ë¦½ì„± ê²€ì •

```python
from scipy.stats import chi2_contingency
statistic, pvalue, dof, expected = chi2_contingency(df)
```


### ë‹¤ì¤‘íšŒê·€ë¶„ì„ ë° ìƒê´€ë¶„ì„

```python
from sklearn.linear_model import LinearRegression
model.fit(x, y)
model.score(x, y)
```


- Rsq: `model.score`
- íšŒê·€ê³„ìˆ˜: `model.coef_`
- ì ˆí¸: `model.intercept`



#### statsmodel ì‚¬ìš©

```python
import statsmodels.api as sm

x = sm.add_constant(x)
model = sm.OLS(y, x).fit()

summary = model.summary()
```


#### ìƒê´€ê³„ìˆ˜

```python
from scipy.stats import pearsonr

r, pvalue = pearsonr(x, y)
```


#### ì˜¤ì¦ˆ êµ¬í•˜ëŠ”ë²•

```python
result = np.exp(model.coef_[0][ëª‡ë²ˆì§¸])
```